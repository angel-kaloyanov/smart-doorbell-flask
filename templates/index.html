<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="utf-8">
    <title>–£–º–µ–Ω –∑–≤—ä–Ω–µ—Ü ‚Äì Flask</title>
    <!-- Bootstrap CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    >
</head>
<body class="bg-light">

<nav class="navbar navbar-dark bg-dark mb-4">
  <div class="container d-flex justify-content-between align-items-center">
    <a class="navbar-brand" href="/">
      üõé –£–º–µ–Ω –∑–≤—ä–Ω–µ—Ü
    </a>

    <div class="d-flex gap-3">
      <a class="nav-link text-light" href="/gallery">üì∑ –ì–∞–ª–µ—Ä–∏—è</a>
      <a class="nav-link text-light" href="/live">üé• Live</a>
    </div>
  </div>
</nav>

<div class="container">

  <!-- –û—Å–Ω–æ–≤–Ω–∞ –∫–∞—Ä—Ç–∞ —Å –±—É—Ç–æ–Ω–∞ -->
  <div class="row justify-content-center mb-4">
    <div class="col-md-6">
      <div class="card shadow-sm">
        <div class="card-body text-center">
          <h3 class="card-title mb-3">–ö–æ–Ω—Ç—Ä–æ–ª–µ–Ω –ø–∞–Ω–µ–ª</h3>
          <p class="card-text">
            –ù–∞—Ç–∏—Å–Ω–∏ –±—É—Ç–æ–Ω–∞, –∑–∞ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—à —Å–Ω–∏–º–∫–∞ —Å –∫–∞–º–µ—Ä–∞—Ç–∞.
          </p>
          <a href="/snapshot" class="btn btn-primary btn-lg">
            üì∏ –ù–∞–ø—Ä–∞–≤–∏ —Å–Ω–∏–º–∫–∞
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- –ì–∞–ª–µ—Ä–∏—è —Å—ä—Å —Å–Ω–∏–º–∫–∏ -->
  <div class="row">
    <div class="col-12">
      <h4 class="mb-3">–ü–æ—Å–ª–µ–¥–Ω–∏ —Å–Ω–∏–º–∫–∏</h4>
    </div>

    {% if images %}
      {% for img in images[:12] %}
        <div class="col-6 col-md-3 mb-3">
          <div class="card shadow-sm h-100">
            <a href="javascript:void(0);" onclick="openImage('{{ url_for('pictures', filename=img) }}')">
              <img src="{{ url_for('pictures', filename=img) }}" class="card-img-top" alt="{{ img }}">
            </a>
            <div class="card-body p-2">
              <small class="text-muted d-block">{{ img }}</small>

              <form method="post"
                    action="{{ url_for('delete_image', filename=img) }}"
                    onsubmit="return confirm('–°–∏–≥—É—Ä–µ–Ω –ª–∏ —Å–∏, —á–µ –∏—Å–∫–∞—à –¥–∞ –∏–∑—Ç—Ä–∏–µ—à —Ç–∞–∑–∏ —Å–Ω–∏–º–∫–∞?');">
                <button type="submit" class="btn btn-sm btn-outline-danger w-100 mt-2">
                  üóë –ò–∑—Ç—Ä–∏–π
                </button>
              </form>

            </div>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <div class="col-12">
        <p class="text-muted">–í—Å–µ –æ—â–µ –Ω—è–º–∞ —Å–Ω–∏–º–∫–∏. –ù–∞—Ç–∏—Å–Ω–∏ –±—É—Ç–æ–Ω–∞ –≥–æ—Ä–µ, –∑–∞ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—à –ø—ä—Ä–≤–∞—Ç–∞.</p>
      </div>
    {% endif %}
  </div>

</div>

<!-- Modal –∑–∞ —Å–Ω–∏–º–∫–∞—Ç–∞ -->
<div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content bg-dark text-center">
      <div class="modal-body">
        <img id="modalImage" src="" class="img-fluid rounded" alt="–°–Ω–∏–º–∫–∞">
      </div>
      <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-light" data-bs-dismiss="modal">‚úñ –ó–∞—Ç–≤–æ—Ä–∏</button>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    function openImage(src) {
        const modalImage = document.getElementById("modalImage");
        modalImage.src = src;
        const modal = new bootstrap.Modal(document.getElementById('imageModal'));
        modal.show();
    }
</script>

</body>
</html>
